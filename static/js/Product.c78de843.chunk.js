(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[3],{137:function(t,n,e){"use strict";e.r(n);var c=e(0),r=e(28),i=e(19),o=e(129),u=e(132),s=e(133),a=e(134),j=e(90),d=e.n(j),f=e(64),l=e(15),b=Object(l.a)({shop:{display:"flex",flexDirection:"column",overflow:"hidden"},header:{marginBottom:15},toolbar:{display:"flex"},title:{flex:1},productList:{overflow:"auto",listStyle:"none",padding:0,margin:0},productItem:{display:"flex",flexDirection:"column",marginBottom:15},iconButton:{alignSelf:"flex-end"}}),h=e(2),O=function(){var t=b(),n=Object(r.c)(f.a),e=Object(r.c)(f.e),c=Object(r.c)(f.b);return Object(h.jsx)(o.a,{className:t.header,position:"static",children:Object(h.jsxs)(u.a,{className:t.toolbar,children:[Object(h.jsx)("h2",{className:t.title,children:"My Awesome Shop"}),c?Object(h.jsx)("p",{children:"Loading..."}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:["total: ",e]}),Object(h.jsx)(i.b,{to:"/cart",children:Object(h.jsx)(s.a,{children:Object(h.jsx)(a.a,{badgeContent:n,color:"secondary",children:Object(h.jsx)(d.a,{style:{color:"#fff"}})})})})]})]})})},p=e(135),x=e(136),m=e(92),g=e.n(m),v=e(93),y=e.n(v),L=e(11),N=function(t){var n=t.id,e=b(),c=Object(r.c)(Object(f.g)(n)),i=c.name,o=c.price,u=c.count,a=Object(r.c)(Object(f.c)(n)),j=Object(r.b)();return Object(h.jsxs)(p.a,{className:e.productItem,children:[Object(h.jsx)(s.a,{className:e.iconButton,onClick:function(){j(a?Object(L.g)(n):Object(L.f)({id:Date.now(),productId:n,count:1}))},children:a?Object(h.jsx)(g.a,{}):Object(h.jsx)(y.a,{})}),Object(h.jsxs)(x.a,{children:[Object(h.jsxs)("h4",{children:["name: ",i]}),Object(h.jsxs)("p",{children:["price: ",o]}),Object(h.jsxs)("p",{children:["count left: ",u]})]})]})},w=function(){var t=b(),n=Object(r.c)(f.h);return Object(r.c)(f.f)?Object(h.jsx)("p",{children:"Loading..."}):Object(h.jsx)("ul",{className:t.productList,children:n.map((function(t){var n=t.id;return Object(h.jsx)(N,{id:n},n)}))})},I=e(94),k=e.n(I);k.a.defaults.baseURL="http://localhost:2222";var B=function(){var t=b(),n=Object(r.b)();return Object(c.useEffect)((function(){n((function(t){t(Object(L.j)()),k.a.get("/shop-items").then((function(n){var e=n.data;return t(Object(L.k)(e))})).catch((function(n){return t(Object(L.i)(n.message))}))})),n((function(t){t(Object(L.d)()),k.a.get("/cart").then((function(n){var e=n.data;return t(Object(L.e)(e))})).catch((function(n){return t(Object(L.c)(n.message))}))}))}),[]),Object(h.jsxs)("div",{className:t.shop,children:[Object(h.jsx)(O,{}),Object(h.jsx)(w,{})]})};n.default=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Products"}),Object(h.jsx)(B,{})]})}},64:function(t,n,e){"use strict";e.d(n,"h",(function(){return c})),e.d(n,"g",(function(){return r})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o})),e.d(n,"d",(function(){return u})),e.d(n,"e",(function(){return s})),e.d(n,"f",(function(){return a})),e.d(n,"b",(function(){return j}));var c=function(t){return t.shop.items},r=function(t){return function(n){return n.shop.items.find((function(n){return n.id===t}))}},i=function(t){return function(n){return n.shop.cart.find((function(n){return n.productId===t}))}},o=function(t){return t.shop.cart.reduce((function(t,n){return t+n.count}),0)},u=function(t){return t.shop.cart},s=function(t){return t.shop.cart.map((function(n){var e=n.count,c=n.productId;return e*t.shop.items.find((function(t){return t.id===c})).price})).reduce((function(t,n){return t+n}),0)},a=function(t){return t.shop.isLoading},j=function(t){return t.shop.cartIsLoading}}}]);
//# sourceMappingURL=Product.c78de843.chunk.js.map